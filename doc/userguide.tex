
\documentclass[english, 10pt, a4paper,headsepline,openany]{scrbook}
\usepackage[T1]{fontenc}
\usepackage[latin1]{inputenc}
\usepackage[left=2cm,right=1cm,top=2cm,bottom=2cm,twoside]{geometry}
\usepackage{array}
\usepackage{amsmath}
\usepackage{amssymb}
\usepackage[numbers]{natbib}
\usepackage{listings}
\usepackage{color}
\usepackage{graphics}
\usepackage{nonfloat}
\usepackage{babel}
\usepackage[colorlinks,linkcolor=blue]{hyperref}
\usepackage{multirow}
\usepackage{ifthen}

\include{version}
\include{definitions}

%\makeatletter
\definecolor{listinggray}{gray}{0.9}
\lstset{backgroundcolor=\color{listinggray}}


\makeatother

\begin{document}

\vfill{}
\title{MIA User Guide \\Software Version: \miaversion}
\vfill{}


\author{Gert Wollny}

\maketitle

\section*{Preface}

This is the MIA User Guide. 
It is dedicated how to use the tools provided by MIA and how to develop software based on the infrastructure provided by MIA.


\section*{License}

Copyright (c) Leipzig, Madrid 2004-2011
Permission is granted to copy, distribute and/or modify this document under the terms of the GNU Free Documentation License, Version 1.1
  or any later version published by the Free Software Foundation; with no Invariant Sections, 
  with no Front-Cover Texts and with no Back-Cover Texts. 
A copy of the license is available at http://www.gnu.org/copyleft/fdl.html

\section*{Changes}

\begin{center}
\begin{tabular}{|c|c|}
\hline 
Date  & Description\\
\hline
\hline 
01/06/2011 & Second Public Release  \\
01/10/2007 & First Public Release  \\
01/03/2007 & Second Beta \\
13/06/2007 & First Beta  \\
\hline
\end{tabular}
\end{center}

\tableofcontents{}

\pagestyle{headings}


\chapter{Introduction}

This is the MIA User Guide. This document describes, how mia can be installed and used. 

This document is maintained by Gert Wollny <gw.fossdev@gmail.com>. 
Additions, modifications or corrections may be mailed there for inclusion in the next release. 

\section{Installation}

MIA has been tested on GNU/Linux (x86,amd64) but should be installable on any Posix compatible platform. 


\subsection{UNIX, Linux, Mac OS X} 

In order to use MIA, on these platforms the software is best installed from source code. 
To do so, your software environment has to meet the following pre-requisites: 

\begin{enumerate}
\item You need a ANSI-compatible C++ compiler that supports some features of the new C++0x standard 
   - GNU g++ (>=4.4) (http://gcc.gnu.org) is known to work. 
\item CMake (http://www.cmake.org) 
\item The BOOST >= 1.40 (http://www.boost.org) library
\item gsl (http://) The GNU Scientific Library 
\end{enumerate}

Additionally, the following packages add to the functionallity of the software: 

\begin{description}
\item [OpenEXR:] A HDR Image Library that supports 32 bit and floating point valued images (http://www.openexr.org)
\item [TIFF:]    The Tagged Image File Format (http://www.remotesensing.org/libtiff/libtiff.html)
\item [PNG:]     Portable Network Graphics (http://www.libpng.org)
\item [DCMTK:]   DICOM image IO (partial support) 
\item [nlopt:]   Nonlinear optimizers library 
\item [xml++:]   Input/output of XML files, support for certain segmentation features
\item [it++:]    Signal processing library (http://itpp.sourceforge.net) 
\end{description}


If all of the above pre-requisites are met, the installation of MIA boils down to:

\lstset{language=bash}
\begin{lstlisting}
  tar -zxvf mia-2.0.X.tgz
  mkdir build-mia
  cd build-mia
  cmake -DCMAKE_INSTALL_PREFIX=<path to install> ../mia-2.0.X
  make
  make install
\end{lstlisting}
In order to test some of the components, you may run ``make test''. 

\subsection{MS Windows} 

Currently broken, may work with cygwin. 

\chapter{User Guide}

\include{running}

\chapter{Programs}
\label{ch:prog}

\lstset{language={}}

This chapter lists all the software tools provided by mia2D. 
The descriptions follow a designated pattern: 

\begin{description}
\item [Program:]\emph{the command line program name}
\item [Description:]A description of the program
\item [Options:] list of options

\noindent 
\tabstart
long name & short name & value type & description of the parameter \\
\hline
\tabend

\item [Example:] Example how to run the program 

\noindent 
If no value type is given, then the option accepts no further parameter. 
All programs support the following options: 

\tabstart
\cmdopt{help}{?}{}{Print out some help}
\cmdopt{usage}{}{}{Print out a short help}
\cmdopt{version}{v}{}{Print out version information}
\cmdopt{copyright{}{}{Print out copyright information}
\cmdopt{verbose{}V{}string{}set the verbosity of the output out of \{ debug, message, warning, fail, error, fatal\}}
\tabend
\item [Remarks:] additional notes
\end{description}

For all programs, the \texttt{-{}-help} option will print out additional information, like which parameters 
  are required and what are the default values (if set).
Note, when other options are set alongside the \texttt{-{}-help} option, then for these options, the given value 
  will be shown as default and the \emph{required} tag will not be shown.
When a program is called with two (ore more) conflicting options then one option takes automatically precedence 
  as it is documented. 


The programs support a variety of 2D and 3D image and data file formats, see tables \ref{tab:2dformats} 
and \ref{tab:3dformats}. 
Support for some of these formats depend on external libraries and needs to be enabled at compile time.

\begin{table}[h]
\caption{\label{tab:2dformats}2D image formats}
\centering{
\begin{tabular}{l|l|c}
\emph{File type description} & \emph{Remark} & \emph{Suffix} \\\hline
DICOM & Only a supset of tags is supported & dcm \\\hline 
OpenEXR HDR image format & http://www.openexr.com/ & exr \\\hline
Portable Network Graphics & http://www.libpng.org & png \\\hline
Tagged Image File format & http://www.remotesensing.org/libtiff/libtiff.html & tif \\\hline
Vista & http://www.cs.ubc.ca/nest/lci/vista/vista.html & v \\\hline 
Windows Bitmap & http://www.daubnet.com/formats/BMP.html & bmp
\end{tabular}
}	
\end{table}

\begin{table}[h]
\caption{\label{tab:3dformats}3D image formats}
\centering{
\begin{tabular}{l|l|c}
\emph{File type description} & \emph{Remark} & \emph{Suffix} \\\hline
Analyze & & hdr + img \\\hline 
INRIA 3D File format &http://foveaproject.free.fr/softwareEng.html & inria  \\\hline
Sun TAAC Image File Format & & vff \\\hline
Vista File Format & http://www.cs.ubc.ca/nest/lci/vista/vista.html & v
\end{tabular}
}
\end{table}

\noindent 
In all cases only binary and gray scale data is supported.

\include{programs}


\chapter{Plug-ins}
\label{ch:plugins}

In this chapter the plug-ins are described that are provided by the library.


\include{plugins}

\bibliographystyle{plainnat}
\cleardoublepage\addcontentsline{toc}{chapter}{\bibname}
\bibliography{userguide}

\end{document}
